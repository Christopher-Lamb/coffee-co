"use strict";(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[705],{2721:function(e,t,l){l.r(t),l.d(t,{Head:function(){return x}});var a=l(7294),n=l(3277),s=l(80),m=l(7320),r=l(8171),c=l(2777),i=l(7094),u=l(2755),o=l(4593);const p={"Ground (2-6 business days)":0,"3 Day Select (3 business days)":9,"2nd Day Air (2-3 business days)":11,"Next Day Air (2 business days)":21},f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),d=e=>{let{name:t,quantity:l,price:m,index:c,onDelete:i,onQuantityChange:u}=e;const{0:o,1:p}=(0,a.useState)();(0,a.useEffect)((()=>{const e=r.F.find((e=>e.filename===t));p(e)}),[]);return a.createElement("div",{className:"h-large w-full flex"},a.createElement(n.Ee,{fileName:t,imgClassName:"h-large shrink-0 w-large"}),a.createElement("div",{className:"flex justify-between w-full"},a.createElement("div",{className:"flex flex-col justify-center p-2xsmall"},a.createElement("div",null,a.createElement("span",{className:"capitalize"},null==o?void 0:o.name," | ",null==o?void 0:o.roast," | ",null==o?void 0:o.origin)),a.createElement("div",null,a.createElement("span",null,f(m*l||0)))),a.createElement("div",{className:"flex items-center"},a.createElement(E,{onChange:e=>{u(c,e)},initialValue:l}),a.createElement("button",{className:"p-2xsmall ml-xsmall",onClick:()=>{i(c)}},a.createElement(s.FU5,{size:"1.5rem"})))))},E=e=>{let{onChange:t,initialValue:l}=e;const{0:n,1:s}=(0,a.useState)(l);(0,a.useEffect)((()=>{t(n)}),[n]);return a.createElement("div",{className:"flex flex-col items-center justify-between bg-white border w-med rounded "},a.createElement("a",{onClick:()=>{s(n+1>10?10:n+1)},className:"cursor-pointer flex justify-center items-center bg-gray-200 w-full h-2xsmall"},a.createElement(i.D0w,{size:"1.3rem"})),a.createElement("input",{value:n,name:"quantity",type:"number",min:1,max:10,className:"w-full h-small text-center",onChange:e=>{const t=parseInt(e.target.value);if(s(1),""===e.target.value)return;let l=10>=t&&t>=1?t:n;t>=10&&(l=10),t<=1&&(l=1),s(l)}}),a.createElement("a",{onClick:()=>{s(n-1<1?n:n-1)},className:"cursor-pointer flex justify-center items-center h-2xsmall w-full bg-gray-200"},a.createElement(c.ego,{size:"1.3rem"})))};t.default=()=>{const{0:e,1:t}=(0,a.useState)(),{0:l,1:s}=(0,a.useState)(0),{0:r,1:c}=(0,a.useState)({shipTo:"",email:"",shipping:"Ground (2-6 business days)",address:""}),{0:i,1:E}=(0,a.useState)("information"),{0:x,1:g}=(0,a.useState)(!1);"undefined"!=typeof document&&(document.documentElement.className="");const{setCartAmt:h}=(0,u.H)();(0,a.useEffect)((()=>{const e=(0,m.p8)();t(e)}),[]),(0,a.useEffect)((()=>{}),[r]);const y=(e,t)=>{c((l=>({...l,[e]:t})))},b=l=>{const a=JSON.parse(JSON.stringify(e));a.splice(l,1),h&&h((e=>e-1)),(0,m.EI)(l),t(a),N(a)},v=(l,a)=>{const n=JSON.parse(JSON.stringify(e)).map(((e,t)=>l===t?{...e,quantity:a}:e));t(n),N(n)},N=t=>{const l=t||e,a=(null==l?void 0:l.reduce(((e,t,l,a)=>e+a[l].price*a[l].quantity),0))||0;s(a||0)};return a.createElement(a.Fragment,null,a.createElement(o.q,null,a.createElement("title",null,(w=i).charAt(0).toUpperCase()+w.slice(1)," | Coffee Co. Cart")),x&&a.createElement(n.Rs,null,a.createElement(n.He,{onClose:()=>{(0,m.LL)(),h&&h(0),window.location.replace("/")},subtotal:l,shipping:{value:r.shipping,price:p[r.shipping]},items:e||[],address:r.address})),a.createElement("main",{className:"pb-three"},a.createElement(n.wp,null),a.createElement("div",{className:"max-w-five w-full min-h-four mx-auto bg-[#f7f7f7] flex"},a.createElement("div",{className:" w-full flex flex-col justify-between"},a.createElement("div",{className:"h-full"},a.createElement("div",{className:"px-xsmall"},a.createElement("div",{className:"pt-small pb-2xsmall border-b-2"},a.createElement("div",{className:"h-med w-med mb-3xsmall"},a.createElement(n.Ee,{fileName:"beansLogo.png"})),a.createElement(n.bu,{value:i,onChange:e=>E(e)}))),a.createElement("div",null,a.createElement(n.sY,{stepChange:e=>E(e),step:i,stored:r})),a.createElement(n.d,{onChange:(e,t,l)=>{y("email",e),y("shipTo",t),y("address",l)},step:i}),a.createElement(n.Qx,{onChange:e=>{y("shipping",e)},step:i}),a.createElement(n.F6,{step:i})),a.createElement("div",{className:" w-full h-large"},a.createElement(n.De,{step:i,options:["information","shipping","payment"],onChangeStep:e=>{"confirm"===e&&g(!0),E(e)}}))),a.createElement("div",{className:" w-full"},a.createElement("div",{className:" h-2/3 p-xsmall"},a.createElement("div",{className:"border bg-white flex flex-col gap-2xsmall overflow-y-auto max-h-four h-full w-full p-2xsmall"},e&&(null==e?void 0:e.length)>0?null==e?void 0:e.map(((e,t)=>a.createElement(d,Object.assign({key:t,onQuantityChange:v,onDelete:b},e,{index:t})))):a.createElement("div",{className:"text-center text-gray-600 text-med mt-small"},"No Coffee Items yetâ€¦"))),a.createElement("div",{className:"p-xsmall border-t-[1px]"},a.createElement("div",{className:"flex justify-between text-2xl mt-1"},a.createElement("p",null,"Subtotal"),a.createElement("p",null,f(l))),r.shipping&&a.createElement("div",{className:"flex justify-between text-2xl mt-1"},a.createElement("p",null,"Shipping"),a.createElement("p",null,f(p[r.shipping]))),a.createElement("div",{className:"flex justify-between text-2xl mt-1"},a.createElement("p",null,"Taxes"),a.createElement("p",null,f(.06625*l))),a.createElement("div",{className:"flex justify-between text-3xl mt-2 border-t-[1px] pt-1 border-black"},a.createElement("p",null,"Total"),a.createElement("p",null,f(p[r.shipping]+l+.06625*l))))))));var w};const x=()=>a.createElement("title",null,"Cart")}}]);
//# sourceMappingURL=component---src-pages-cart-tsx-6be3301c2cc32a36345e.js.map