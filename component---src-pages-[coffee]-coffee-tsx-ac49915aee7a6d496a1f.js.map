{"version":3,"file":"component---src-pages-[coffee]-coffee-tsx-ac49915aee7a6d496a1f.js","mappings":"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","sources":["webpack://my-gatsby-site/./src/pages/coffee/[coffee].tsx"],"sourcesContent":["import React, { ChangeEvent, useEffect, useState } from \"react\";\nimport type { HeadFC, PageProps } from \"gatsby\";\nimport { Coffees } from \"../../utils/coffees\";\nimport { Helmet } from \"react-helmet\";\nimport { Image, Navbar, Rating } from \"../../components\";\nimport { FiMinus } from \"react-icons/fi\";\nimport { IoMdAdd } from \"react-icons/io\";\nimport { addToCart } from \"../../utils/cartFunctions\";\nimport { useCoffeeContext } from \"../../context/CoffeeContext\";\n\ninterface Coffee {\n  rating: number;\n  name: string;\n  roast: string;\n  origin: string;\n  filename: string;\n  notes: string[];\n  price: number;\n  weight: number;\n}\n\nconst formatWeight = (num: number) => {\n  // return Math.round((num / 16) * 100);\n  const lbs = Math.floor(num / 16);\n  const oz = num - lbs * 16;\n  const lbStr = lbs === 1 ? \" lb\" : \" lbs\";\n  return `${lbs ? lbs + lbStr : \"\"} ${oz ? oz + \" oz\" : \"\"}`;\n};\nconst formatPrice = (num: number) => {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2, // Ensure two decimal places\n  }).format(num);\n};\n\nfunction caps(str: string): string {\n  if (!str) return \"\"; // Return an empty string if the input is empty\n\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nconst CoffeePage: React.FC<PageProps> = () => {\n  if (typeof document !== \"undefined\") document.documentElement.className = \"\";\n  const coffee =\n    typeof window !== \"undefined\" &&\n    window.location.pathname\n      .split(\"/\")\n      .filter((i) => i)\n      .pop();\n  const [coffeeState, setCoffeeState] = useState<Coffee>();\n  const [quantity, setQuantity] = useState(1);\n  const { setCartAmt } = useCoffeeContext();\n\n  useEffect(() => {\n    const item = Coffees.find((item) => item.filename === coffee + \".png\");\n    setCoffeeState(item);\n  });\n\n  const handleQuantity = (quant: number) => {\n    setQuantity(quant);\n  };\n\n  const handleCart = () => {\n    setCartAmt && setCartAmt((prev) => prev + 1);\n    addToCart({ name: coffeeState?.filename || \"\", quantity: quantity, price: coffeeState?.price || 0 });\n  };\n\n  return (\n    <main className=\"pb-three\">\n      <Helmet>\n        <title>\n          {coffeeState?.name || \"\"} | {caps(coffeeState?.roast || \"\")} | {coffeeState?.origin || \"\"}\n        </title>\n      </Helmet>\n      <Navbar />\n      <div className=\"flex flex-col lg:flex-row max-w-6xl gap-small mt-med mx-auto rounded lg:border py-med lg:py-0 bg-[#f7f7f7] shadow\">\n        <div className=\"mx-auto \">\n          <Image fileName={coffeeState?.filename || \"\"} imgClassName=\"w-three h-three\" />\n          <div className=\"max-w-6xl mx-auto flex\">\n            <button onClick={handleCart} className=\"w-two h-med londrina-solid-light tracking-wide text-med border-4 hover:bg-stone-100 border-primary text-primary \">\n              Add to Cart\n            </button>\n            <a href=\"/cart\" className=\"w-one flex items-center justify-center block h-med londrina-solid-light tracking-wide text-med hover:bg-primary bg-secondary text-accent-lighter\">\n              Checkout\n            </a>\n          </div>\n        </div>\n        <div className=\"max-w-four  w-full mx-auto px-8 md:px-0 lg:mt-small\">\n          <p className=\"londrina-solid-light tracking-wide\">Coffee Co.</p>\n          <h1 className=\"text-one\">\n            {coffeeState?.name} <span className=\"text-4xl text-stone-700\">/ {caps(coffeeState?.roast || \"\")}</span>\n          </h1>\n          <div className=\"mt-3xsmall\">\n            <span className=\"block leading-[0.8rem] text-stone-700\">Origin:</span>\n            <p className=\"text-med\">{coffeeState?.origin}</p>\n          </div>\n          {/* <p>Notes: {coffeeState?.notes.join(\" \")}</p> */}\n          <div className=\"mt-3xsmall\">\n            <span className=\"block leading-[0.8rem] text-stone-700\">Weight:</span>\n            <p>{formatWeight(coffeeState?.weight || 0)}</p>\n          </div>\n          {coffeeState?.rating && (\n            <div className=\"mt-3xsmall\">\n              <Rating rating={coffeeState?.rating} />\n            </div>\n          )}\n          <div className=\"mt-xsmall\">\n            <span className=\"block text-stone-700\">Quantity</span>\n            <Quantity onChange={handleQuantity} />\n          </div>\n          <div className=\"mt-xsmall\">\n            <span className=\"block leading-[0.8rem] text-stone-700\">Price:</span>\n            <p className=\"text-med text-bold\">{formatPrice(coffeeState?.price || 0 * quantity)}</p>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\ninterface QuantityProps {\n  onChange: (num: number) => void;\n}\n\nconst Quantity: React.FC<QuantityProps> = ({ onChange }) => {\n  const [num, setNum] = useState(1);\n\n  useEffect(() => {\n    onChange(num);\n  }, [num]);\n\n  const handleAdd = () => {\n    const newNum = num + 1 > 10 ? 10 : num + 1;\n    setNum(newNum);\n  };\n\n  const handleSubtract = () => {\n    const newNum = num - 1 < 1 ? num : num - 1;\n    setNum(newNum);\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = parseInt(e.target.value);\n    setNum(1);\n    if (e.target.value === \"\") return;\n\n    let newNum = 10 >= value && value >= 1 ? value : num;\n    if (value >= 10) newNum = 10;\n    if (value <= 1) newNum = 1;\n    setNum(newNum);\n  };\n\n  return (\n    <div className=\"flex items-center justify-between bg-white border w-one\">\n      <a onClick={handleSubtract} className=\"cursor-pointer flex justify-center items-center w-med h-small\">\n        <FiMinus size={\"1.3rem\"} />\n      </a>\n      <input value={num} name=\"quantity\" type=\"number\" min={1} max={10} className=\"w-full text-center\" onChange={handleChange} />\n      <a onClick={handleAdd} className=\"cursor-pointer flex justify-center items-center w-med h-small\">\n        <IoMdAdd size={\"1.3rem\"} />\n      </a>\n    </div>\n  );\n};\n\nexport default CoffeePage;\n\n// export const Head: HeadFC = () => <title>Page Name</title>;\n"],"names":["caps","str","charAt","toUpperCase","slice","Quantity","_ref","onChange","num","setNum","useState","useEffect","React","className","onClick","handleSubtract","FiMinus","size","value","name","type","min","max","e","parseInt","target","newNum","handleAdd","IoMdAdd","CoffeePage","document","documentElement","coffee","window","location","pathname","split","filter","i","pop","coffeeState","setCoffeeState","quantity","setQuantity","setCartAmt","useCoffeeContext","item","Coffees","find","filename","Helmet","roast","origin","Navbar","Image","fileName","imgClassName","handleCart","prev","addToCart","price","href","lbs","Math","floor","oz","formatWeight","weight","rating","Rating","quant","Intl","NumberFormat","style","currency","minimumFractionDigits","format"],"sourceRoot":""}